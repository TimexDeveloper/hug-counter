<!DOCTYPE html>
<html>
<head>
    <title>–û–±–Ω–∏–º–∞—à–∫–∏ ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>–ú–µ–Ω—è –æ–±–Ω—è–ª–∏ <span id="count">0</span> —Ä–∞–∑!</h1>
        <button id="hug-btn">–û–±–Ω—è—Ç—å ‚ù§Ô∏è</button>
    </div>
    <script>
        const btn = document.getElementById('hug-btn');
        const countSpan = document.getElementById('count');

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å—á—ë—Ç
        fetch('/api/hug')
            .then(res => res.json())
            .then(data => countSpan.textContent = data.count);

        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º +1 –ø—Ä–∏ –∫–ª–∏–∫–µ
        btn.addEventListener('click', () => {
            fetch('/api/hug', { method: 'POST' })
                .then(res => res.json())
                .then(data => {
                    countSpan.textContent = data.count;
                    btn.textContent = '–û–±–Ω—è—Ç–æ! üòä';
                    setTimeout(() => btn.textContent = '–û–±–Ω—è—Ç—å ‚ù§Ô∏è', 1000);
                });
        });
    </script>
</body>
</html>